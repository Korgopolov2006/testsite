# üìä Grafana Panels - JSON –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–∫–∏

–≠—Ç–∞ –ø–∞–ø–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç 11 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö JSON —Ñ–∞–π–ª–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ñ–µ–≤–∂–∏–∫.

–ö–∞–∂–¥—ã–π —Ñ–∞–π–ª –º–æ–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ Grafana –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞–Ω–µ–ª–µ–π.

---

## üìã –°–ø–∏—Å–æ–∫ –ø–∞–Ω–µ–ª–µ–π

### 1. `panel_1_orders_today.json`
- **–¢–∏–ø**: Stat
- **–ú–µ—Ç—Ä–∏–∫–∞**: `zhevzhik_orders_today`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤ –∑–∞ —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –¥–µ–Ω—å
- **–ü–æ—Ä–æ–≥–∏**: –ó–µ–ª—ë–Ω—ã–π (0-10), –ñ—ë–ª—Ç—ã–π (10-50), –ö—Ä–∞—Å–Ω—ã–π (50+)

### 2. `panel_2_revenue_today.json`
- **–¢–∏–ø**: Stat
- **–ú–µ—Ç—Ä–∏–∫–∞**: `zhevzhik_revenue_today`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –í—ã—Ä—É—á–∫–∞ –∑–∞ —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –¥–µ–Ω—å –≤ —Ä—É–±–ª—è—Ö
- **–ü–æ—Ä–æ–≥–∏**: –ó–µ–ª—ë–Ω—ã–π (0-10k), –ñ—ë–ª—Ç—ã–π (10k-50k), –ö—Ä–∞—Å–Ω—ã–π (50k+)

### 3. `panel_3_users_today.json`
- **–¢–∏–ø**: Stat
- **–ú–µ—Ç—Ä–∏–∫–∞**: `zhevzhik_users_today`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ù–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å–µ–≥–æ–¥–Ω—è
- **–ü–æ—Ä–æ–≥–∏**: –ó–µ–ª—ë–Ω—ã–π (0-5), –ñ—ë–ª—Ç—ã–π (5-20), –ö—Ä–∞—Å–Ω—ã–π (20+)

### 4. `panel_4_avg_order_value.json`
- **–¢–∏–ø**: Stat
- **–ú–µ—Ç—Ä–∏–∫–∞**: `zhevzhik_avg_order_value`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –°—Ä–µ–¥–Ω–∏–π —á–µ–∫ –≤ —Ä—É–±–ª—è—Ö

### 5. `panel_5_users_total.json`
- **–¢–∏–ø**: Stat
- **–ú–µ—Ç—Ä–∏–∫–∞**: `zhevzhik_users_total`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–ü–æ—Ä–æ–≥–∏**: –ó–µ–ª—ë–Ω—ã–π (0-100), –ñ—ë–ª—Ç—ã–π (100-500), –ö—Ä–∞—Å–Ω—ã–π (500+)

### 6. `panel_6_users_active.json`
- **–¢–∏–ø**: Stat
- **–ú–µ—Ç—Ä–∏–∫–∞**: `zhevzhik_users_active`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ê–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### 7. `panel_7_users_dynamics.json`
- **–¢–∏–ø**: Time series
- **–ú–µ—Ç—Ä–∏–∫–∏**: 
  - `zhevzhik_users_total` (–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
  - `zhevzhik_users_active` (–ê–∫—Ç–∏–≤–Ω—ã—Ö)
  - `zhevzhik_users_today` (–ù–æ–≤—ã—Ö —Å–µ–≥–æ–¥–Ω—è)
- **–õ–µ–≥–µ–Ω–¥–∞**: –¢–∞–±–ª–∏—Ü–∞ –≤–Ω–∏–∑—É —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏: Last, Max
- **–¶–≤–µ—Ç–∞**: –°–∏–Ω–∏–π, –ó–µ–ª—ë–Ω—ã–π, –û—Ä–∞–Ω–∂–µ–≤—ã–π

### 8. `panel_8_orders_by_status.json`
- **–¢–∏–ø**: Pie chart (Donut)
- **–ú–µ—Ç—Ä–∏–∫–∞**: `zhevzhik_orders_by_status`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ó–∞–∫–∞–∑—ã –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º
- **–õ–µ–≥–µ–Ω–¥–∞**: –¢–∞–±–ª–∏—Ü–∞ —Å–ø—Ä–∞–≤–∞ —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏: Value, Percent

### 9. `panel_9_http_requests.json`
- **–¢–∏–ø**: Time series
- **–ú–µ—Ç—Ä–∏–∫–∞**: `rate(zhevzhik_http_requests_total[5m])`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: HTTP –∑–∞–ø—Ä–æ—Å—ã –≤ —Å–µ–∫—É–Ω–¥—É
- **–õ–µ–≥–µ–Ω–¥–∞**: –¢–∞–±–ª–∏—Ü–∞ –≤–Ω–∏–∑—É —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏: Last, Mean, Max
- **–§–æ—Ä–º–∞—Ç**: `{{method}} - {{status_code}}`

### 10. `panel_10_response_time.json`
- **–¢–∏–ø**: Time series
- **–ú–µ—Ç—Ä–∏–∫–∞**: `zhevzhik_http_request_duration_seconds_avg`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞
- **–õ–µ–≥–µ–Ω–¥–∞**: –¢–∞–±–ª–∏—Ü–∞ –≤–Ω–∏–∑—É —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏: Last, Mean, Max
- **–ü–æ—Ä–æ–≥–∏**: –ñ—ë–ª—Ç—ã–π (0.5s), –ö—Ä–∞—Å–Ω—ã–π (1.0s+)

### 11. `panel_11_users_active_5min.json`
- **–¢–∏–ø**: Time series
- **–ú–µ—Ç—Ä–∏–∫–∞**: `zhevzhik_users_active_5min`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∑–∞—Ö–æ–¥–∏–≤—à–∏—Ö –Ω–∞ —Å–∞–π—Ç –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –º–∏–Ω—É—Ç
- **–õ–µ–≥–µ–Ω–¥–∞**: –¢–∞–±–ª–∏—Ü–∞ –≤–Ω–∏–∑—É —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏: Last, Mean, Max
- **–ü–æ—Ä–æ–≥–∏**: –ó–µ–ª—ë–Ω—ã–π (0-10), –ñ—ë–ª—Ç—ã–π (10-50), –ö—Ä–∞—Å–Ω—ã–π (50+)
- **–¶–≤–µ—Ç**: –ó–µ–ª—ë–Ω—ã–π

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò–º–ø–æ—Ä—Ç –≤ Grafana —á–µ—Ä–µ–∑ UI

1. –û—Ç–∫—Ä–æ–π—Ç–µ Grafana: http://localhost:3000
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –¥–∞—à–±–æ—Ä–¥ –∏–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
3. –ù–∞–∂–º–∏—Ç–µ **Add panel** ‚Üí **Import**
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ JSON —Ñ–∞–π–ª–∞
5. –í—Å—Ç–∞–≤—å—Ç–µ –≤ –ø–æ–ª–µ –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞
6. –ù–∞–∂–º–∏—Ç–µ **Load**
7. –ù–∞–∂–º–∏—Ç–µ **Import**

### –í–∞—Ä–∏–∞–Ω—Ç 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ JSON –º–æ–¥–µ–ª—å –¥–∞—à–±–æ—Ä–¥–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ –¥–∞—à–±–æ—Ä–¥ –≤ Grafana
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É **‚öôÔ∏è** (Settings) –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
3. –í—ã–±–µ—Ä–∏—Ç–µ **JSON Model**
4. –ù–∞–π–¥–∏—Ç–µ –º–∞—Å—Å–∏–≤ `panels`
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ JSON –∏–∑ —Ñ–∞–π–ª–∞ –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ –º–∞—Å—Å–∏–≤ `panels`
6. –ù–∞–∂–º–∏—Ç–µ **Save**

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ API

```bash
# –ü—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–∞–Ω–µ–ª–∏ —á–µ—Ä–µ–∑ Grafana API
curl -X POST http://admin:admin@localhost:3000/api/dashboards/db \
  -H "Content-Type: application/json" \
  -d @panel_1_orders_today.json
```

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Data Source UID

‚ö†Ô∏è **–í–∞–∂–Ω–æ**: –ü–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∑–∞–º–µ–Ω–∏—Ç–µ `"uid": "prometheus"` –Ω–∞ UID –≤–∞—à–µ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö Prometheus.

–ö–∞–∫ –Ω–∞–π—Ç–∏ UID:
1. –û—Ç–∫—Ä–æ–π—Ç–µ Grafana
2. **Configuration** ‚Üí **Data Sources**
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –≤–∞—à –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö Prometheus
4. –í URL –≤—ã —É–≤–∏–¥–∏—Ç–µ UID (–Ω–∞–ø—Ä–∏–º–µ—Ä: `http://localhost:3000/datasources/edit/ef3576k7igc8wf`)
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ UID –∏ –∑–∞–º–µ–Ω–∏—Ç–µ –≤–æ –≤—Å–µ—Ö JSON —Ñ–∞–π–ª–∞—Ö

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–∏—Å–∫ –∏ –∑–∞–º–µ–Ω—É:
- –ù–∞–π—Ç–∏: `"uid": "prometheus"`
- –ó–∞–º–µ–Ω–∏—Ç—å: `"uid": "–≤–∞—à_uid"`

---

## üé® –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–µ–≥–µ–Ω–¥—ã

### Time series –ø–∞–Ω–µ–ª–∏ (7, 9, 10)

–õ–µ–≥–µ–Ω–¥–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –≤ —Å–µ–∫—Ü–∏–∏ `options.legend`:

```json
"legend": {
  "showLegend": true,
  "displayMode": "table",
  "placement": "bottom",
  "calcs": [
    "lastNotNull",  // –ü–æ—Å–ª–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    "mean",         // –°—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    "max"           // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
  ],
  "width": 500      // –®–∏—Ä–∏–Ω–∞ –ª–µ–≥–µ–Ω–¥—ã
}
```

**Display modes**:
- `table` - –¢–∞–±–ª–∏—Ü–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- `list` - –°–ø–∏—Å–æ–∫
- `hidden` - –°–∫—Ä—ã—Ç–∞

**Placements**:
- `bottom` - –í–Ω–∏–∑—É
- `right` - –°–ø—Ä–∞–≤–∞
- `top` - –°–≤–µ—Ä—Ö—É

**Calcs** (–∫–æ–ª–æ–Ω–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ):
- `lastNotNull` - –ü–æ—Å–ª–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- `mean` - –°—Ä–µ–¥–Ω–µ–µ
- `max` - –ú–∞–∫—Å–∏–º—É–º
- `min` - –ú–∏–Ω–∏–º—É–º
- `sum` - –°—É–º–º–∞

### Pie chart –ø–∞–Ω–µ–ª—å (8)

–õ–µ–≥–µ–Ω–¥–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –≤ —Å–µ–∫—Ü–∏–∏ `options.legend`:

```json
"legend": {
  "displayMode": "table",
  "placement": "right",
  "showLegend": true,
  "values": [
    "value",   // –ó–Ω–∞—á–µ–Ω–∏–µ
    "percent"  // –ü—Ä–æ—Ü–µ–Ω—Ç
  ],
  "width": 300
}
```

---

## üìç –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–Ω–µ–ª–µ–π

–ö–∞–∂–¥–∞—è –ø–∞–Ω–µ–ª—å –∏–º–µ–µ—Ç `gridPos` —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏:

```json
"gridPos": {
  "x": 0,    // –ü–æ–∑–∏—Ü–∏—è –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ (0, 6, 12, 18...)
  "y": 0,    // –ü–æ–∑–∏—Ü–∏—è –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ (0, 4, 8, 16...)
  "h": 4,    // –í—ã—Å–æ—Ç–∞ –≤ —Å—Ç—Ä–æ–∫–∞—Ö
  "w": 6     // –®–∏—Ä–∏–Ω–∞ –≤ –∫–æ–ª–æ–Ω–∫–∞—Ö (–º–∞–∫—Å–∏–º—É–º 24)
}
```

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Ä–∞—Å–∫–ª–∞–¥–∫–∞:

```
[Panel 1] [Panel 2] [Panel 3] [Panel 4]
[Panel 5] [Panel 6] [Panel 7 (–±–æ–ª—å—à–∞—è)]
[Panel 8] [Panel 9 (–±–æ–ª—å—à–∞—è)]
[Panel 10]
```

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ü–≤–µ—Ç–æ–≤

### Time series –ø–∞–Ω–µ–ª–∏

–¶–≤–µ—Ç–∞ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —á–µ—Ä–µ–∑ `overrides`:

```json
"overrides": [
  {
    "matcher": {
      "id": "byName",
      "options": "–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"
    },
    "properties": [
      {
        "id": "color",
        "value": {
          "mode": "fixed",
          "fixedColor": "blue"
        }
      }
    ]
  }
]
```

**–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ü–≤–µ—Ç–∞**:
- `blue`, `green`, `red`, `yellow`, `orange`, `purple`
- –ò–ª–∏ HEX –∫–æ–¥—ã: `"#3742fa"`

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Prometheus —Å–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏:
   - http://127.0.0.1:8000/metrics/
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Grafana –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –∫ Prometheus:
   - http://localhost:9090
3. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –ø–∞–Ω–µ–ª–∏ –≤ –¥–∞—à–±–æ—Ä–¥
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è (–Ω–µ "No data")

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ –ø–∞–Ω–µ–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ñ–æ—Ä–º–∞—Ç Grafana 12.2.0
- UID –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –≤–∞—à
- –ü–æ—Ä–æ–≥–∏ (Thresholds) –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–¥ –≤–∞—à–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –õ–µ–≥–µ–Ω–¥–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

---

## üéØ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å 10 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö JSON —Ñ–∞–π–ª–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π –º–µ—Ç—Ä–∏–∫–∏!

–ö–∞–∂–¥—ã–π —Ñ–∞–π–ª –º–æ–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ Grafana.


