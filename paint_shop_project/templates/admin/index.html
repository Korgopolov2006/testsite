{% extends "admin/base_site.html" %}
{% load i18n %}

{% block title %}{{ site_title|default:_('–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ Django') }}{% endblock %}

{% block extrastyle %}
<style>
    .admin-dashboard { display:flex; flex-direction:column; gap:24px; }
    .admin-dashboard__banner { background:linear-gradient(135deg, #1a2a6c, #4f63d8); color:#fff; padding:24px; border-radius:16px; box-shadow:0 16px 30px rgba(26,42,108,0.25); display:flex; flex-wrap:wrap; gap:18px; align-items:center; justify-content:space-between; }
    .admin-dashboard__banner h1 { margin:0; font-size:28px; }
    .admin-dashboard__banner p { margin:0; max-width:580px; opacity:0.9; }
    .admin-dashboard__banner .button { background:#fff; color:#1a2a6c; border:none; font-weight:600; }
    .admin-dashboard__quick-actions { display:flex; gap:12px; flex-wrap:wrap; }
    .admin-dashboard__apps { display:grid; gap:20px; }
    .admin-app-card { background:var(--card-bg, #fff); border-radius:14px; padding:20px; box-shadow:0 12px 28px rgba(0,0,0,0.05); color:var(--text-color, #1a2a6c); }
    .admin-app-card h2 { margin-top:0; color:var(--text-color, #1a2a6c); }
    .admin-app-card ul { list-style:none; margin:0; padding:0; display:grid; gap:12px; }
    .admin-app-card li { display:flex; justify-content:space-between; gap:12px; align-items:center; color:var(--text-color, #1a2a6c); }
    .admin-app-card li a { font-weight:600; color:var(--text-color, #1a2a6c); text-decoration:none; }
    .admin-app-card li .actions { display:flex; gap:8px; }
    .admin-app-card li .actions a { font-size:12px; text-transform:uppercase; letter-spacing:.06em; color:var(--medium-gray, #6c757d); text-decoration:none; }
    .admin-app-card li .actions a:hover { color:var(--primary-color, #1a2a6c); }
    .admin-empty { color:var(--text-color, #6c757d); font-style:italic; }
    
    /* –¢—ë–º–Ω–∞—è —Ç–µ–º–∞ –¥–ª—è –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏ */
    .dark-theme #header,
    .dark-theme #content,
    .dark-theme #content-main,
    .dark-theme .module,
    .dark-theme .module table,
    .dark-theme .form-row,
    .dark-theme .submit-row,
    .dark-theme .inline-group,
    .dark-theme .dashboard-container,
    .dark-theme .dashboard-stats,
    .dark-theme .stat-card,
    .dark-theme .chart-card,
    .dark-theme .db-card,
    .dark-theme .db-stat,
    .dark-theme .db-table,
    .dark-theme .segment-card,
    .dark-theme .warehouse-dashboard,
    .dark-theme .rfm-container {
        background-color: var(--card-bg, #2d2d2d) !important;
        color: var(--text-color, #e0e0e0) !important;
    }
    
    .dark-theme #header { background-color: var(--header-bg, #252525) !important; border-bottom-color: var(--border-color, #404040) !important; }
    .dark-theme #content { background-color: var(--bg-color, #1a1a1a) !important; }
    .dark-theme .module h2,
    .dark-theme .module h3,
    .dark-theme h1,
    .dark-theme h2,
    .dark-theme h3,
    .dark-theme .stat-card .value,
    .dark-theme .stat-card .label,
    .dark-theme .chart-card h3 {
        color: var(--text-color, #e0e0e0) !important;
    }
    .dark-theme .module table th,
    .dark-theme .module table td,
    .dark-theme .db-table th,
    .dark-theme .db-table td {
        background-color: var(--card-bg, #2d2d2d) !important;
        color: var(--text-color, #e0e0e0) !important;
        border-color: var(--border-color, #404040) !important;
    }
    .dark-theme input[type="text"],
    .dark-theme input[type="email"],
    .dark-theme input[type="password"],
    .dark-theme input[type="number"],
    .dark-theme input[type="date"],
    .dark-theme select,
    .dark-theme textarea {
        background-color: var(--input-bg, #2d2d2d) !important;
        color: var(--text-color, #e0e0e0) !important;
        border-color: var(--border-color, #404040) !important;
    }
    .dark-theme .button,
    .dark-theme input[type="submit"],
    .dark-theme .submit-row input {
        background-color: var(--primary-color, #ff6b9d) !important;
        color: var(--white, #fff) !important;
    }
    .dark-theme .button:hover,
    .dark-theme input[type="submit"]:hover {
        background-color: var(--primary-dark, #e55a8a) !important;
    }
</style>
{% endblock %}

{% block content %}
<div class="admin-dashboard">
    <div class="admin-dashboard__banner">
        <div>
            <h1>{{ site_header|default:_('–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ') }}</h1>
            <p>{% trans "–£–ø—Ä–∞–≤–ª—è–π—Ç–µ –¥–∞–Ω–Ω—ã–º–∏ –º–∞–≥–∞–∑–∏–Ω–∞: —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ, –º–µ—Ç—Ä–∏–∫–∏ –±–∞–∑—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂." %}</p>
        </div>
        <div class="admin-dashboard__quick-actions">
            {% if database_maintenance_url %}
                <a class="button" href="{{ database_maintenance_url }}">{% trans "–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö" %}</a>
            {% endif %}
            {% if dashboard_url %}
                <a class="button" href="{{ dashboard_url }}">{% trans "üìä –î–∞—à–±–æ—Ä–¥ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏" %}</a>
            {% endif %}
            {% if notifications_center_url %}
                <a class="button" href="{{ notifications_center_url }}">{% trans "üîî –¶–µ–Ω—Ç—Ä —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π" %}</a>
            {% endif %}
        </div>
    </div>

    <div class="admin-dashboard__apps">
        {% if app_list %}
            {% for app in app_list %}
                <section class="admin-app-card">
                    <h2>
                        {% if app.app_url %}<a href="{{ app.app_url }}">{{ app.name }}</a>{% else %}{{ app.name }}{% endif %}
                    </h2>
                    {% if app.models %}
                        <ul>
                            {% for model in app.models %}
                                <li>
                                    <span>
                                        {% if model.admin_url %}
                                            <a href="{{ model.admin_url }}">{{ model.name }}</a>
                                        {% else %}
                                            {{ model.name }}
                                        {% endif %}
                                        {% if model.view_only %}
                                            <em>({% trans "—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä" %})</em>
                                        {% endif %}
                                    </span>
                                    <span class="actions">
                                        {% if model.admin_url %}
                                            <a href="{{ model.admin_url }}">{% trans "–û—Ç–∫—Ä—ã—Ç—å" %}</a>
                                        {% endif %}
                                        {% if model.add_url %}
                                            <a href="{{ model.add_url }}">{% trans "–î–æ–±–∞–≤–∏—Ç—å" %}</a>
                                        {% endif %}
                                        {% if model.history_url %}
                                            <a href="{{ model.history_url }}">{% trans "–ò—Å—Ç–æ—Ä–∏—è" %}</a>
                                        {% endif %}
                                    </span>
                                </li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        <p class="admin-empty">{% trans "–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π." %}</p>
                    {% endif %}
                </section>
            {% endfor %}
        {% else %}
            <p class="admin-empty">{% trans "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –º–æ–¥–µ–ª–∏ –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã." %}</p>
        {% endif %}
    </div>
</div>
{% endblock %}



